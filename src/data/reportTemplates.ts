import type { ReportTemplate } from "../types/report";

export const REPORT_TEMPLATES: ReportTemplate[] = [
  // ============================================
  // EXECUTIVE SUMMARY REPORTS (1-5)
  // ============================================
  {
    id: "exec-portfolio-overview",
    name: "Portfolio Overview",
    description: "High-level summary of all developments with key metrics and status indicators",
    category: "executive",
    icon: "LayoutDashboard",
    defaultFormat: "pdf",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "metrics",
        type: "metrics",
        title: "Portfolio Summary",
        metrics: [
          { id: "totalUnits", label: "Total Units", field: "totalUnits", calculation: "count", format: "number" },
          { id: "totalValue", label: "Total Value", field: "listPrice", calculation: "sum", format: "currency" },
          { id: "salesRate", label: "Sales Rate", field: "complete", calculation: "percentage", format: "percentage" },
          { id: "avgPrice", label: "Avg Price", field: "listPrice", calculation: "avg", format: "currency" },
        ],
      },
      {
        id: "statusChart",
        type: "chart",
        title: "Sales Status Distribution",
        chartConfig: { type: "pie", xAxis: "salesStatus", yAxis: ["count"], showLegend: true, showValues: true },
      },
      {
        id: "developmentTable",
        type: "table",
        title: "Development Status",
        columns: [
          { id: "name", label: "Development", field: "name", format: "text" },
          { id: "totalUnits", label: "Units", field: "totalUnits", format: "number" },
          { id: "forSale", label: "For Sale", field: "forSale", format: "number" },
          { id: "contracted", label: "Contracted", field: "contracted", format: "number" },
          { id: "complete", label: "Complete", field: "complete", format: "number" },
          { id: "progress", label: "Progress", field: "progressPercent", format: "percentage" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["executive", "overview", "summary"],
  },
  {
    id: "exec-weekly-status",
    name: "Weekly Status Report",
    description: "Weekly summary of sales activity, completions, and upcoming closings",
    category: "executive",
    icon: "Calendar",
    defaultFormat: "pdf",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "weeklyMetrics",
        type: "metrics",
        title: "This Week Summary",
        metrics: [
          { id: "newSales", label: "New Sales", field: "newSales", calculation: "count", format: "number" },
          { id: "completions", label: "Completions", field: "completions", calculation: "count", format: "number" },
          { id: "closings", label: "Closings", field: "closings", calculation: "count", format: "number" },
          { id: "revenue", label: "Revenue", field: "soldPrice", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "activityTable",
        type: "table",
        title: "Recent Activity",
        columns: [
          { id: "date", label: "Date", field: "activityDate", format: "date" },
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "activity", label: "Activity", field: "activityType", format: "text" },
          { id: "value", label: "Value", field: "soldPrice", format: "currency" },
        ],
      },
    ],
    defaultFilters: { dateRange: { field: "activityDate", from: "thisWeek" } },
    tags: ["executive", "weekly", "activity"],
  },
  {
    id: "exec-monthly-summary",
    name: "Monthly Performance Summary",
    description: "Comprehensive monthly report with sales trends, forecasts, and KPIs",
    category: "executive",
    icon: "TrendingUp",
    defaultFormat: "pdf",
    availableFormats: ["pdf", "excel", "word", "screen"],
    sections: [
      {
        id: "monthlyKPIs",
        type: "metrics",
        title: "Monthly KPIs",
        metrics: [
          { id: "salesTarget", label: "Sales vs Target", field: "salesTarget", calculation: "percentage", format: "percentage" },
          { id: "revenueTarget", label: "Revenue vs Target", field: "revenueTarget", calculation: "percentage", format: "currency" },
          { id: "avgDaysToClose", label: "Avg Days to Close", field: "daysToClose", calculation: "avg", format: "number" },
          { id: "conversionRate", label: "Conversion Rate", field: "conversionRate", calculation: "avg", format: "percentage" },
        ],
      },
      {
        id: "trendChart",
        type: "chart",
        title: "Sales Trend",
        chartConfig: { type: "line", xAxis: "month", yAxis: ["sales", "target"], showLegend: true, showValues: false },
      },
      {
        id: "developmentPerformance",
        type: "table",
        title: "Development Performance",
        groupBy: "development",
      },
    ],
    defaultFilters: { dateRange: { field: "closeDate", from: "thisMonth" } },
    tags: ["executive", "monthly", "performance", "kpi"],
  },
  {
    id: "exec-board-presentation",
    name: "Board Presentation Pack",
    description: "Formatted report suitable for board presentations with charts and summaries",
    category: "executive",
    icon: "Presentation",
    defaultFormat: "pdf",
    availableFormats: ["pdf", "word"],
    sections: [
      { id: "header", type: "header", title: "Board Report" },
      { id: "executiveSummary", type: "text", title: "Executive Summary" },
      {
        id: "kpis",
        type: "metrics",
        title: "Key Performance Indicators",
        metrics: [
          { id: "totalRevenue", label: "Total Revenue", field: "soldPrice", calculation: "sum", format: "currency" },
          { id: "margin", label: "Gross Margin", field: "margin", calculation: "avg", format: "percentage" },
          { id: "salesVelocity", label: "Sales Velocity", field: "velocity", calculation: "avg", format: "number" },
        ],
      },
      {
        id: "portfolioChart",
        type: "chart",
        title: "Portfolio Distribution",
        chartConfig: { type: "stacked", xAxis: "development", yAxis: ["notReleased", "forSale", "contracted", "complete"], stacked: true },
      },
    ],
    tags: ["executive", "board", "presentation"],
  },
  {
    id: "exec-investor-report",
    name: "Investor Report",
    description: "Detailed financial performance report for investors with ROI metrics",
    category: "executive",
    icon: "DollarSign",
    defaultFormat: "pdf",
    availableFormats: ["pdf", "word"],
    sections: [
      {
        id: "financialMetrics",
        type: "metrics",
        title: "Financial Highlights",
        metrics: [
          { id: "totalInvested", label: "Total Invested", field: "invested", calculation: "sum", format: "currency" },
          { id: "currentValue", label: "Current Value", field: "currentValue", calculation: "sum", format: "currency" },
          { id: "roi", label: "ROI", field: "roi", calculation: "avg", format: "percentage" },
          { id: "projectedReturn", label: "Projected Return", field: "projectedReturn", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "revenueChart",
        type: "chart",
        title: "Revenue Timeline",
        chartConfig: { type: "area", xAxis: "month", yAxis: ["actual", "projected"], showLegend: true },
      },
    ],
    tags: ["executive", "investor", "financial"],
  },

  // ============================================
  // SALES REPORTS (6-15)
  // ============================================
  {
    id: "sales-pipeline",
    name: "Sales Pipeline Report",
    description: "Current sales pipeline with units at each stage",
    category: "sales",
    icon: "Filter",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "pipelineChart",
        type: "chart",
        title: "Sales Pipeline",
        chartConfig: { type: "bar", xAxis: "salesStatus", yAxis: ["count", "value"], showValues: true },
      },
      {
        id: "pipelineTable",
        type: "table",
        title: "Pipeline Details",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "notReleased", label: "Not Released", field: "notReleased", format: "number" },
          { id: "forSale", label: "For Sale", field: "forSale", format: "number" },
          { id: "underOffer", label: "Under Offer", field: "underOffer", format: "number" },
          { id: "contracted", label: "Contracted", field: "contracted", format: "number" },
          { id: "complete", label: "Complete", field: "complete", format: "number" },
          { id: "totalValue", label: "Pipeline Value", field: "pipelineValue", format: "currency" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["sales", "pipeline", "status"],
  },
  {
    id: "sales-by-development",
    name: "Sales by Development",
    description: "Sales breakdown for each development project",
    category: "sales",
    icon: "Building2",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "developmentSales",
        type: "table",
        title: "Sales by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "total", label: "Total Units", field: "totalUnits", format: "number" },
          { id: "sold", label: "Sold", field: "soldUnits", format: "number" },
          { id: "available", label: "Available", field: "availableUnits", format: "number" },
          { id: "salesPercent", label: "% Sold", field: "soldPercent", format: "percentage" },
          { id: "revenue", label: "Revenue", field: "revenue", format: "currency" },
          { id: "pipeline", label: "Pipeline Value", field: "pipelineValue", format: "currency" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["sales", "development", "breakdown"],
  },
  {
    id: "sales-unit-list",
    name: "Unit Sales List",
    description: "Complete list of all units with sales status",
    category: "sales",
    icon: "List",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "unitList",
        type: "table",
        title: "All Units",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "beds", label: "Beds", field: "bedrooms", format: "number" },
          { id: "salesStatus", label: "Sales Status", field: "salesStatus", format: "status" },
          { id: "listPrice", label: "List Price", field: "listPrice", format: "currency" },
          { id: "soldPrice", label: "Sold Price", field: "soldPrice", format: "currency" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
        ],
        sortBy: "developmentName",
      },
    ],
    tags: ["sales", "units", "list", "detail"],
  },
  {
    id: "sales-under-offer",
    name: "Units Under Offer",
    description: "List of all units currently under offer with purchaser details",
    category: "sales",
    icon: "FileText",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "underOfferList",
        type: "table",
        title: "Units Under Offer",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "listPrice", label: "List Price", field: "listPrice", format: "currency" },
          { id: "offerPrice", label: "Offer Price", field: "soldPrice", format: "currency" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "daysUnderOffer", label: "Days Under Offer", field: "daysUnderOffer", format: "number" },
        ],
      },
    ],
    defaultFilters: { salesStatus: ["Under Offer"] },
    tags: ["sales", "under offer", "purchaser"],
  },
  {
    id: "sales-contracted",
    name: "Contracted Units",
    description: "All units with signed contracts awaiting closing",
    category: "sales",
    icon: "FileCheck",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "contractedList",
        type: "table",
        title: "Contracted Units",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "soldPrice", label: "Sale Price", field: "soldPrice", format: "currency" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "purchaserType", label: "Purchaser Type", field: "purchaserType", format: "text" },
          { id: "contractDate", label: "Contract Date", field: "documentation.contractSignedDate", format: "date" },
          { id: "plannedClose", label: "Planned Close", field: "plannedCloseDate", format: "date" },
          {
            id: "status",
            label: "Status",
            field: "closingStatus",
            format: "status",
            trafficLight: { type: "date", greenCondition: ">7days", amberCondition: "<=7days", redCondition: "overdue" },
          },
        ],
      },
    ],
    defaultFilters: { salesStatus: ["Contracted"] },
    tags: ["sales", "contracted", "closing"],
  },
  {
    id: "sales-completed",
    name: "Completed Sales",
    description: "All completed sales with final prices and dates",
    category: "sales",
    icon: "CheckCircle",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "completedSummary",
        type: "metrics",
        title: "Completed Sales Summary",
        metrics: [
          { id: "totalSold", label: "Total Sold", field: "count", calculation: "count", format: "number" },
          { id: "totalRevenue", label: "Total Revenue", field: "soldPrice", calculation: "sum", format: "currency" },
          { id: "avgPrice", label: "Average Price", field: "soldPrice", calculation: "avg", format: "currency" },
        ],
      },
      {
        id: "completedList",
        type: "table",
        title: "Completed Sales",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "soldPrice", label: "Sale Price", field: "soldPrice", format: "currency" },
          { id: "closeDate", label: "Close Date", field: "closeDate", format: "date" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "purchaserType", label: "Type", field: "purchaserType", format: "text" },
        ],
        sortBy: "closeDate",
        sortOrder: "desc",
      },
    ],
    defaultFilters: { salesStatus: ["Complete"] },
    tags: ["sales", "completed", "revenue"],
  },
  {
    id: "sales-by-type",
    name: "Sales by Unit Type",
    description: "Sales analysis grouped by unit type (apartments, houses, etc.)",
    category: "sales",
    icon: "PieChart",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "typeChart",
        type: "chart",
        title: "Sales by Unit Type",
        chartConfig: { type: "pie", xAxis: "type", yAxis: ["count"], showLegend: true, showValues: true },
      },
      {
        id: "typeTable",
        type: "table",
        title: "Unit Type Analysis",
        columns: [
          { id: "type", label: "Unit Type", field: "type", format: "text" },
          { id: "total", label: "Total", field: "totalUnits", format: "number" },
          { id: "sold", label: "Sold", field: "soldUnits", format: "number" },
          { id: "available", label: "Available", field: "availableUnits", format: "number" },
          { id: "avgPrice", label: "Avg Price", field: "avgPrice", format: "currency" },
          { id: "revenue", label: "Total Revenue", field: "revenue", format: "currency" },
        ],
        groupBy: "type",
      },
    ],
    tags: ["sales", "unit type", "analysis"],
  },
  {
    id: "sales-by-bedroom",
    name: "Sales by Bedroom Count",
    description: "Sales breakdown by number of bedrooms",
    category: "sales",
    icon: "Bed",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "bedroomChart",
        type: "chart",
        title: "Sales by Bedrooms",
        chartConfig: { type: "bar", xAxis: "bedrooms", yAxis: ["sold", "available"], showValues: true },
      },
      {
        id: "bedroomTable",
        type: "table",
        title: "Bedroom Analysis",
        columns: [
          { id: "beds", label: "Bedrooms", field: "bedrooms", format: "number" },
          { id: "total", label: "Total", field: "totalUnits", format: "number" },
          { id: "sold", label: "Sold", field: "soldUnits", format: "number" },
          { id: "avgPrice", label: "Avg Price", field: "avgPrice", format: "currency" },
          { id: "percentSold", label: "% Sold", field: "soldPercent", format: "percentage" },
        ],
        groupBy: "bedrooms",
      },
    ],
    tags: ["sales", "bedrooms", "analysis"],
  },
  {
    id: "sales-part-v",
    name: "Part V Units Report",
    description: "All Part V social housing units with status and purchaser details",
    category: "sales",
    icon: "Home",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "partVSummary",
        type: "metrics",
        title: "Part V Summary",
        metrics: [
          { id: "totalPartV", label: "Total Part V", field: "count", calculation: "count", format: "number" },
          { id: "council", label: "Council", field: "council", calculation: "count", format: "number" },
          { id: "ahb", label: "AHB", field: "ahb", calculation: "count", format: "number" },
          { id: "totalValue", label: "Total Value", field: "soldPrice", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "partVList",
        type: "table",
        title: "Part V Units",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "purchaserType", label: "Purchaser Type", field: "purchaserType", format: "text" },
          { id: "purchaserName", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "salesStatus", label: "Status", field: "salesStatus", format: "status" },
          { id: "price", label: "Price", field: "soldPrice", format: "currency" },
        ],
      },
    ],
    defaultFilters: { partV: true },
    tags: ["sales", "part v", "social housing"],
  },
  {
    id: "sales-purchaser-list",
    name: "Purchaser Contact List",
    description: "List of all purchasers with contact information",
    category: "sales",
    icon: "Users",
    defaultFormat: "excel",
    availableFormats: ["excel", "screen"],
    sections: [
      {
        id: "purchaserList",
        type: "table",
        title: "Purchaser Details",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "purchaserName", label: "Name", field: "purchaserName", format: "text" },
          { id: "purchaserType", label: "Type", field: "purchaserType", format: "text" },
          { id: "email", label: "Email", field: "purchaserEmail", format: "text" },
          { id: "phone", label: "Phone", field: "purchaserPhone", format: "text" },
          { id: "address", label: "Address", field: "address", format: "text" },
        ],
        sortBy: "purchaserName",
      },
    ],
    defaultFilters: { salesStatus: ["Under Offer", "Contracted", "Complete"] },
    tags: ["sales", "purchaser", "contacts"],
  },

  // ============================================
  // CONSTRUCTION REPORTS (16-22)
  // ============================================
  {
    id: "const-status-overview",
    name: "Construction Status Overview",
    description: "Overview of construction progress across all developments",
    category: "construction",
    icon: "HardHat",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "constructionChart",
        type: "chart",
        title: "Construction Status",
        chartConfig: { type: "stacked", xAxis: "development", yAxis: ["notStarted", "inProgress", "complete"], stacked: true },
      },
      {
        id: "constructionTable",
        type: "table",
        title: "Construction by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "total", label: "Total Units", field: "totalUnits", format: "number" },
          { id: "notStarted", label: "Not Started", field: "notStarted", format: "number" },
          { id: "inProgress", label: "In Progress", field: "inProgress", format: "number" },
          { id: "complete", label: "Complete", field: "complete", format: "number" },
          { id: "percentComplete", label: "% Complete", field: "percentComplete", format: "percentage" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["construction", "status", "progress"],
  },
  {
    id: "const-completion-schedule",
    name: "Completion Schedule",
    description: "Upcoming unit completions with planned dates",
    category: "construction",
    icon: "CalendarCheck",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "completionTimeline",
        type: "chart",
        title: "Completions by Month",
        chartConfig: { type: "bar", xAxis: "month", yAxis: ["completions"], showValues: true },
      },
      {
        id: "completionList",
        type: "table",
        title: "Upcoming Completions",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "startDate", label: "Start Date", field: "startDate", format: "date" },
          { id: "completionDate", label: "Completion Date", field: "completionDate", format: "date" },
          { id: "constructionStatus", label: "Status", field: "constructionStatus", format: "status" },
          {
            id: "onTrack",
            label: "On Track",
            field: "onTrack",
            format: "status",
            trafficLight: { type: "status", greenCondition: "onTrack", amberCondition: "atRisk", redCondition: "delayed" },
          },
        ],
        sortBy: "completionDate",
      },
    ],
    defaultFilters: { constructionStatus: ["In Progress"] },
    tags: ["construction", "completion", "schedule"],
  },
  {
    id: "const-snag-report",
    name: "Snagging Report",
    description: "Units requiring snagging with dates and status",
    category: "construction",
    icon: "ClipboardList",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "snagMetrics",
        type: "metrics",
        title: "Snagging Summary",
        metrics: [
          { id: "pendingSnag", label: "Pending Snag", field: "pendingSnag", calculation: "count", format: "number" },
          { id: "snagged", label: "Snagged", field: "snagged", calculation: "count", format: "number" },
          { id: "pendingDesnag", label: "Pending De-snag", field: "pendingDesnag", calculation: "count", format: "number" },
          { id: "desnagComplete", label: "De-snag Complete", field: "desnagComplete", calculation: "count", format: "number" },
        ],
      },
      {
        id: "snagList",
        type: "table",
        title: "Snagging Status",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "constructionStatus", label: "Construction", field: "constructionStatus", format: "status" },
          { id: "snagDate", label: "Snag Date", field: "snagDate", format: "date" },
          { id: "desnagDate", label: "De-snag Date", field: "desnagDate", format: "date" },
          { id: "status", label: "Status", field: "snagStatus", format: "status" },
        ],
      },
    ],
    tags: ["construction", "snagging", "quality"],
  },
  {
    id: "const-units-in-progress",
    name: "Units In Progress",
    description: "All units currently under construction",
    category: "construction",
    icon: "Hammer",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "inProgressList",
        type: "table",
        title: "Units In Progress",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "startDate", label: "Start Date", field: "startDate", format: "date" },
          { id: "plannedCompletion", label: "Planned Completion", field: "completionDate", format: "date" },
          { id: "daysInProgress", label: "Days In Progress", field: "daysInProgress", format: "number" },
        ],
      },
    ],
    defaultFilters: { constructionStatus: ["In Progress"] },
    tags: ["construction", "in progress", "active"],
  },
  {
    id: "const-not-started",
    name: "Units Not Started",
    description: "Units where construction has not yet begun",
    category: "construction",
    icon: "Clock",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "notStartedList",
        type: "table",
        title: "Units Not Started",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "beds", label: "Beds", field: "bedrooms", format: "number" },
          { id: "plannedStart", label: "Planned Start", field: "startDate", format: "date" },
          { id: "salesStatus", label: "Sales Status", field: "salesStatus", format: "status" },
        ],
      },
    ],
    defaultFilters: { constructionStatus: ["Not Started"] },
    tags: ["construction", "not started", "planned"],
  },
  {
    id: "const-completed",
    name: "Completed Construction",
    description: "All units with completed construction",
    category: "construction",
    icon: "CheckSquare",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "completedConstruction",
        type: "table",
        title: "Completed Units",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "type", label: "Type", field: "type", format: "text" },
          { id: "completionDate", label: "Completion Date", field: "completionDate", format: "date" },
          { id: "salesStatus", label: "Sales Status", field: "salesStatus", format: "status" },
          { id: "bcmsReceived", label: "BCMS", field: "documentation.bcmsReceived", format: "boolean" },
        ],
      },
    ],
    defaultFilters: { constructionStatus: ["Complete"] },
    tags: ["construction", "completed"],
  },
  {
    id: "const-timeline",
    name: "Construction Timeline",
    description: "Timeline view of construction across all projects",
    category: "construction",
    icon: "GitBranch",
    defaultFormat: "screen",
    availableFormats: ["pdf", "screen"],
    sections: [
      {
        id: "timelineChart",
        type: "chart",
        title: "Construction Timeline",
        chartConfig: { type: "bar", xAxis: "month", yAxis: ["notStarted", "inProgress", "complete"], stacked: true },
      },
      {
        id: "milestones",
        type: "table",
        title: "Key Milestones",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "milestone", label: "Milestone", field: "milestone", format: "text" },
          { id: "plannedDate", label: "Planned Date", field: "plannedDate", format: "date" },
          { id: "actualDate", label: "Actual Date", field: "actualDate", format: "date" },
          { id: "status", label: "Status", field: "status", format: "status" },
        ],
      },
    ],
    tags: ["construction", "timeline", "milestones"],
  },

  // ============================================
  // FINANCIAL REPORTS (23-30)
  // ============================================
  {
    id: "fin-revenue-summary",
    name: "Revenue Summary",
    description: "Total revenue by development with actual vs projected",
    category: "financial",
    icon: "DollarSign",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "revenueMetrics",
        type: "metrics",
        title: "Revenue Overview",
        metrics: [
          { id: "totalRevenue", label: "Total Revenue", field: "soldPrice", calculation: "sum", format: "currency" },
          { id: "projectedRevenue", label: "Projected Revenue", field: "projectedRevenue", calculation: "sum", format: "currency" },
          { id: "remainingValue", label: "Remaining Value", field: "remainingValue", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "revenueTable",
        type: "table",
        title: "Revenue by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "actualRevenue", label: "Actual Revenue", field: "actualRevenue", format: "currency" },
          { id: "projected", label: "Projected", field: "projectedRevenue", format: "currency" },
          { id: "variance", label: "Variance", field: "variance", format: "currency" },
          { id: "percentComplete", label: "% Complete", field: "revenuePercent", format: "percentage" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["financial", "revenue", "summary"],
  },
  {
    id: "fin-cash-flow",
    name: "Cash Flow Report",
    description: "Cash flow projections based on closing schedule",
    category: "financial",
    icon: "TrendingUp",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "cashFlowChart",
        type: "chart",
        title: "Cash Flow Projection",
        chartConfig: { type: "area", xAxis: "week", yAxis: ["inflow", "cumulative"], showLegend: true },
      },
      {
        id: "cashFlowTable",
        type: "table",
        title: "Weekly Cash Flow",
        columns: [
          { id: "week", label: "Week", field: "week", format: "text" },
          { id: "closings", label: "Closings", field: "closings", format: "number" },
          { id: "inflow", label: "Cash Inflow", field: "inflow", format: "currency" },
          { id: "cumulative", label: "Cumulative", field: "cumulative", format: "currency" },
        ],
      },
    ],
    tags: ["financial", "cash flow", "projection"],
  },
  {
    id: "fin-price-analysis",
    name: "Price Analysis Report",
    description: "Analysis of list prices vs sold prices with variance",
    category: "financial",
    icon: "BarChart3",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "priceMetrics",
        type: "metrics",
        title: "Price Analysis",
        metrics: [
          { id: "avgListPrice", label: "Avg List Price", field: "listPrice", calculation: "avg", format: "currency" },
          { id: "avgSoldPrice", label: "Avg Sold Price", field: "soldPrice", calculation: "avg", format: "currency" },
          { id: "avgDiscount", label: "Avg Discount", field: "discount", calculation: "avg", format: "percentage" },
        ],
      },
      {
        id: "priceTable",
        type: "table",
        title: "Price Analysis by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "avgList", label: "Avg List", field: "avgListPrice", format: "currency" },
          { id: "avgSold", label: "Avg Sold", field: "avgSoldPrice", format: "currency" },
          { id: "minPrice", label: "Min Price", field: "minPrice", format: "currency" },
          { id: "maxPrice", label: "Max Price", field: "maxPrice", format: "currency" },
          { id: "variance", label: "Variance %", field: "variance", format: "percentage" },
        ],
        groupBy: "development",
      },
    ],
    defaultFilters: { salesStatus: ["Complete"] },
    tags: ["financial", "price", "analysis"],
  },
  {
    id: "fin-incentive-report",
    name: "Incentive Schemes Report",
    description: "Overview of incentive schemes and their usage",
    category: "financial",
    icon: "Gift",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "incentiveMetrics",
        type: "metrics",
        title: "Incentive Summary",
        metrics: [
          { id: "totalValue", label: "Total Value", field: "incentiveValue", calculation: "sum", format: "currency" },
          { id: "unitsWithIncentive", label: "Units with Incentive", field: "withIncentive", calculation: "count", format: "number" },
          { id: "avgIncentive", label: "Avg Incentive", field: "incentiveValue", calculation: "avg", format: "currency" },
        ],
      },
      {
        id: "incentiveTable",
        type: "table",
        title: "Incentive by Scheme",
        columns: [
          { id: "scheme", label: "Scheme", field: "schemeName", format: "text" },
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "units", label: "Units", field: "unitCount", format: "number" },
          { id: "totalValue", label: "Total Value", field: "totalValue", format: "currency" },
          { id: "status", label: "Status", field: "schemeStatus", format: "status" },
        ],
        groupBy: "scheme",
      },
    ],
    tags: ["financial", "incentive", "schemes"],
  },
  {
    id: "fin-vat-report",
    name: "VAT Analysis Report",
    description: "Price breakdown showing ex VAT and inc VAT amounts",
    category: "financial",
    icon: "Receipt",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "vatSummary",
        type: "metrics",
        title: "VAT Summary",
        metrics: [
          { id: "totalExVat", label: "Total Ex VAT", field: "priceExVat", calculation: "sum", format: "currency" },
          { id: "totalIncVat", label: "Total Inc VAT", field: "priceIncVat", calculation: "sum", format: "currency" },
          { id: "totalVat", label: "Total VAT", field: "vatAmount", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "vatTable",
        type: "table",
        title: "VAT by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "units", label: "Units", field: "unitCount", format: "number" },
          { id: "exVat", label: "Ex VAT", field: "totalExVat", format: "currency" },
          { id: "vat", label: "VAT", field: "totalVat", format: "currency" },
          { id: "incVat", label: "Inc VAT", field: "totalIncVat", format: "currency" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["financial", "vat", "tax"],
  },
  {
    id: "fin-upcoming-closings",
    name: "Upcoming Closings Financial",
    description: "Financial summary of upcoming closings and expected revenue",
    category: "financial",
    icon: "Calendar",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "closingMetrics",
        type: "metrics",
        title: "Upcoming Closings",
        metrics: [
          { id: "thisWeek", label: "This Week", field: "thisWeek", calculation: "sum", format: "currency" },
          { id: "thisMonth", label: "This Month", field: "thisMonth", calculation: "sum", format: "currency" },
          { id: "nextMonth", label: "Next Month", field: "nextMonth", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "closingList",
        type: "table",
        title: "Closing Schedule",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "plannedClose", label: "Planned Close", field: "plannedCloseDate", format: "date" },
          { id: "price", label: "Sale Price", field: "soldPrice", format: "currency" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          {
            id: "status",
            label: "Status",
            field: "closingStatus",
            format: "status",
            trafficLight: { type: "date", greenCondition: ">7days", amberCondition: "<=7days", redCondition: "overdue" },
          },
        ],
        sortBy: "plannedCloseDate",
      },
    ],
    defaultFilters: { salesStatus: ["Contracted"] },
    tags: ["financial", "closings", "revenue"],
  },
  {
    id: "fin-revenue-by-type",
    name: "Revenue by Purchaser Type",
    description: "Revenue breakdown by purchaser type (Private, Council, AHB)",
    category: "financial",
    icon: "Users",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "purchaserTypeChart",
        type: "chart",
        title: "Revenue by Purchaser Type",
        chartConfig: { type: "pie", xAxis: "purchaserType", yAxis: ["revenue"], showLegend: true, showValues: true },
      },
      {
        id: "purchaserTypeTable",
        type: "table",
        title: "Revenue Analysis",
        columns: [
          { id: "type", label: "Purchaser Type", field: "purchaserType", format: "text" },
          { id: "units", label: "Units", field: "unitCount", format: "number" },
          { id: "revenue", label: "Total Revenue", field: "revenue", format: "currency" },
          { id: "avgPrice", label: "Avg Price", field: "avgPrice", format: "currency" },
          { id: "percent", label: "% of Total", field: "revenuePercent", format: "percentage" },
        ],
        groupBy: "purchaserType",
      },
    ],
    defaultFilters: { salesStatus: ["Complete"] },
    tags: ["financial", "purchaser type", "revenue"],
  },
  {
    id: "fin-price-per-sqft",
    name: "Price Per Sq Ft Analysis",
    description: "Price per square foot analysis by development and unit type",
    category: "financial",
    icon: "Ruler",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "sqftTable",
        type: "table",
        title: "Price Per Sq Ft Analysis",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "type", label: "Unit Type", field: "type", format: "text" },
          { id: "avgSize", label: "Avg Size", field: "avgSize", format: "number" },
          { id: "avgPrice", label: "Avg Price", field: "avgPrice", format: "currency" },
          { id: "pricePerSqft", label: "Price/Sq Ft", field: "pricePerSqft", format: "currency" },
        ],
        groupBy: "development",
      },
    ],
    defaultFilters: { salesStatus: ["Complete"] },
    tags: ["financial", "price", "square foot"],
  },

  // ============================================
  // DOCUMENTATION REPORTS (31-37)
  // ============================================
  {
    id: "doc-completion-tracker",
    name: "Completion Documentation Tracker",
    description: "Track BCMS, Land Registry, and Homebond status for all units",
    category: "documentation",
    icon: "FileCheck",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "docMetrics",
        type: "metrics",
        title: "Documentation Status",
        metrics: [
          { id: "pendingBcms", label: "Pending BCMS", field: "pendingBcms", calculation: "count", format: "number" },
          { id: "pendingLandReg", label: "Pending Land Registry", field: "pendingLandReg", calculation: "count", format: "number" },
          { id: "pendingHomebond", label: "Pending Homebond", field: "pendingHomebond", calculation: "count", format: "number" },
        ],
      },
      {
        id: "docTable",
        type: "table",
        title: "Documentation Status",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          {
            id: "bcms",
            label: "BCMS",
            field: "documentation.bcmsReceived",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          { id: "bcmsDate", label: "BCMS Date", field: "documentation.bcmsReceivedDate", format: "date" },
          {
            id: "landReg",
            label: "Land Registry",
            field: "documentation.landRegistryApproved",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          {
            id: "homebond",
            label: "Homebond",
            field: "documentation.homebondReceived",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
        ],
      },
    ],
    tags: ["documentation", "completion", "bcms", "land registry"],
  },
  {
    id: "doc-sales-tracker",
    name: "Sales Documentation Tracker",
    description: "Track contract issuance, signing, and closing documentation",
    category: "documentation",
    icon: "FileSignature",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "salesDocMetrics",
        type: "metrics",
        title: "Sales Documentation Status",
        metrics: [
          { id: "pendingSan", label: "Pending SAN", field: "pendingSan", calculation: "count", format: "number" },
          { id: "pendingContract", label: "Pending Contract", field: "pendingContract", calculation: "count", format: "number" },
          { id: "pendingClose", label: "Pending Close", field: "pendingClose", calculation: "count", format: "number" },
        ],
      },
      {
        id: "salesDocTable",
        type: "table",
        title: "Sales Documentation Status",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          {
            id: "san",
            label: "SAN",
            field: "documentation.sanApproved",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          {
            id: "contractIssued",
            label: "Contract Issued",
            field: "documentation.contractIssued",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          {
            id: "contractSigned",
            label: "Contract Signed",
            field: "documentation.contractSigned",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          {
            id: "closed",
            label: "Closed",
            field: "documentation.saleClosed",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
        ],
      },
    ],
    defaultFilters: { salesStatus: ["Under Offer", "Contracted"] },
    tags: ["documentation", "sales", "contracts"],
  },
  {
    id: "doc-pending-bcms",
    name: "Pending BCMS Report",
    description: "Units awaiting BCMS certification",
    category: "documentation",
    icon: "FileWarning",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "pendingBcmsList",
        type: "table",
        title: "Pending BCMS",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "completionDate", label: "Completion Date", field: "completionDate", format: "date" },
          { id: "plannedBcms", label: "Planned BCMS Date", field: "documentation.plannedBcmsDate", format: "date" },
          { id: "daysWaiting", label: "Days Waiting", field: "daysWaitingBcms", format: "number" },
          { id: "salesStatus", label: "Sales Status", field: "salesStatus", format: "status" },
        ],
        sortBy: "completionDate",
      },
    ],
    defaultFilters: { documentationStatus: [{ field: "bcmsReceived", completed: false }] },
    tags: ["documentation", "bcms", "pending"],
  },
  {
    id: "doc-pending-contracts",
    name: "Pending Contracts Report",
    description: "Units where contracts are pending issuance or signing",
    category: "documentation",
    icon: "FilePen",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "pendingContractsList",
        type: "table",
        title: "Pending Contracts",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "salesStatus", label: "Sales Status", field: "salesStatus", format: "status" },
          {
            id: "contractIssued",
            label: "Contract Issued",
            field: "documentation.contractIssued",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          { id: "issuedDate", label: "Issued Date", field: "documentation.contractIssuedDate", format: "date" },
          {
            id: "contractSigned",
            label: "Contract Signed",
            field: "documentation.contractSigned",
            format: "boolean",
            trafficLight: { type: "status", greenCondition: "true", redCondition: "false" },
          },
          { id: "daysWaiting", label: "Days Waiting", field: "daysWaitingContract", format: "number" },
        ],
        sortBy: "daysWaitingContract",
        sortOrder: "desc",
      },
    ],
    defaultFilters: { salesStatus: ["Under Offer", "Contracted"] },
    tags: ["documentation", "contracts", "pending"],
  },
  {
    id: "doc-closing-checklist",
    name: "Closing Checklist Report",
    description: "Complete checklist of all documentation required for closing",
    category: "documentation",
    icon: "ClipboardCheck",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "closingChecklist",
        type: "table",
        title: "Closing Documentation Checklist",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "plannedClose", label: "Planned Close", field: "plannedCloseDate", format: "date" },
          { id: "bcms", label: "BCMS", field: "documentation.bcmsReceived", format: "boolean" },
          { id: "landReg", label: "Land Reg", field: "documentation.landRegistryApproved", format: "boolean" },
          { id: "homebond", label: "Homebond", field: "documentation.homebondReceived", format: "boolean" },
          { id: "san", label: "SAN", field: "documentation.sanApproved", format: "boolean" },
          { id: "contract", label: "Contract", field: "documentation.contractSigned", format: "boolean" },
          { id: "completeness", label: "Complete %", field: "docCompleteness", format: "percentage" },
        ],
        sortBy: "plannedCloseDate",
      },
    ],
    defaultFilters: { salesStatus: ["Contracted"] },
    tags: ["documentation", "closing", "checklist"],
  },
  {
    id: "doc-expiring-documents",
    name: "Expiring Documents Alert",
    description: "Documents approaching expiration dates",
    category: "documentation",
    icon: "AlertTriangle",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "expiringDocs",
        type: "table",
        title: "Expiring Documents",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "docType", label: "Document Type", field: "documentType", format: "text" },
          { id: "expiryDate", label: "Expiry Date", field: "expiryDate", format: "date" },
          { id: "daysRemaining", label: "Days Remaining", field: "daysRemaining", format: "number" },
          {
            id: "status",
            label: "Status",
            field: "urgency",
            format: "status",
            trafficLight: { type: "value", greenCondition: ">30", amberCondition: "<=30", redCondition: "<=7" },
          },
        ],
        sortBy: "daysRemaining",
      },
    ],
    tags: ["documentation", "expiring", "alerts"],
  },
  {
    id: "doc-overview",
    name: "Documentation Overview",
    description: "Summary of all documentation status across developments",
    category: "documentation",
    icon: "FolderOpen",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "docOverviewTable",
        type: "table",
        title: "Documentation Overview by Development",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "totalUnits", label: "Total Units", field: "totalUnits", format: "number" },
          { id: "bcmsComplete", label: "BCMS Complete", field: "bcmsComplete", format: "number" },
          { id: "landRegComplete", label: "Land Reg Complete", field: "landRegComplete", format: "number" },
          { id: "homebondComplete", label: "Homebond Complete", field: "homebondComplete", format: "number" },
          { id: "contractsSigned", label: "Contracts Signed", field: "contractsSigned", format: "number" },
          { id: "overallPercent", label: "Overall %", field: "docOverallPercent", format: "percentage" },
        ],
        groupBy: "development",
      },
    ],
    tags: ["documentation", "overview", "summary"],
  },

  // ============================================
  // FORECASTING REPORTS (38-42)
  // ============================================
  {
    id: "forecast-sales",
    name: "Sales Forecast",
    description: "Projected sales based on current pipeline and historical data",
    category: "forecasting",
    icon: "TrendingUp",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "forecastChart",
        type: "chart",
        title: "Sales Forecast",
        chartConfig: { type: "line", xAxis: "month", yAxis: ["actual", "forecast", "target"], showLegend: true },
      },
      {
        id: "forecastTable",
        type: "table",
        title: "Monthly Forecast",
        columns: [
          { id: "month", label: "Month", field: "month", format: "text" },
          { id: "actual", label: "Actual", field: "actual", format: "number" },
          { id: "forecast", label: "Forecast", field: "forecast", format: "number" },
          { id: "target", label: "Target", field: "target", format: "number" },
          { id: "variance", label: "Variance", field: "variance", format: "number" },
        ],
      },
    ],
    tags: ["forecasting", "sales", "projection"],
  },
  {
    id: "forecast-revenue",
    name: "Revenue Forecast",
    description: "Projected revenue based on pipeline and closing schedule",
    category: "forecasting",
    icon: "Banknote",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "revenueforecastChart",
        type: "chart",
        title: "Revenue Forecast",
        chartConfig: { type: "area", xAxis: "quarter", yAxis: ["actual", "forecast"], showLegend: true },
      },
      {
        id: "revenueForecastTable",
        type: "table",
        title: "Quarterly Revenue Forecast",
        columns: [
          { id: "quarter", label: "Quarter", field: "quarter", format: "text" },
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "projected", label: "Projected Revenue", field: "projectedRevenue", format: "currency" },
          { id: "closings", label: "Expected Closings", field: "expectedClosings", format: "number" },
          { id: "confidence", label: "Confidence", field: "confidence", format: "percentage" },
        ],
        groupBy: "quarter",
      },
    ],
    tags: ["forecasting", "revenue", "projection"],
  },
  {
    id: "forecast-completion",
    name: "Completion Forecast",
    description: "Projected construction completions by month",
    category: "forecasting",
    icon: "CalendarClock",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "completionForecastChart",
        type: "chart",
        title: "Completion Forecast",
        chartConfig: { type: "bar", xAxis: "month", yAxis: ["completions"], showValues: true },
      },
      {
        id: "completionForecastTable",
        type: "table",
        title: "Monthly Completion Forecast",
        columns: [
          { id: "month", label: "Month", field: "month", format: "text" },
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "planned", label: "Planned", field: "plannedCompletions", format: "number" },
          { id: "atRisk", label: "At Risk", field: "atRiskCompletions", format: "number" },
          { id: "delayed", label: "Delayed", field: "delayedCompletions", format: "number" },
        ],
        groupBy: "month",
      },
    ],
    tags: ["forecasting", "completion", "construction"],
  },
  {
    id: "forecast-closing",
    name: "Closing Forecast",
    description: "Projected closings with probability weighting",
    category: "forecasting",
    icon: "Target",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "closingForecastMetrics",
        type: "metrics",
        title: "Closing Forecast Summary",
        metrics: [
          { id: "high", label: "High Probability", field: "highProb", calculation: "count", format: "number" },
          { id: "medium", label: "Medium Probability", field: "medProb", calculation: "count", format: "number" },
          { id: "low", label: "Low Probability", field: "lowProb", calculation: "count", format: "number" },
          { id: "weightedValue", label: "Weighted Value", field: "weightedValue", calculation: "sum", format: "currency" },
        ],
      },
      {
        id: "closingForecastTable",
        type: "table",
        title: "Closing Pipeline",
        columns: [
          { id: "development", label: "Development", field: "developmentName", format: "text" },
          { id: "unit", label: "Unit", field: "unitNumber", format: "text" },
          { id: "purchaser", label: "Purchaser", field: "purchaserName", format: "text" },
          { id: "plannedClose", label: "Planned Close", field: "plannedCloseDate", format: "date" },
          { id: "price", label: "Sale Price", field: "soldPrice", format: "currency" },
          { id: "probability", label: "Probability", field: "closingProbability", format: "percentage" },
          { id: "weightedValue", label: "Weighted Value", field: "weightedValue", format: "currency" },
        ],
        sortBy: "plannedCloseDate",
      },
    ],
    defaultFilters: { salesStatus: ["Under Offer", "Contracted"] },
    tags: ["forecasting", "closing", "probability"],
  },
  {
    id: "forecast-inventory",
    name: "Inventory Forecast",
    description: "Future inventory availability based on construction and sales pace",
    category: "forecasting",
    icon: "Package",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "inventoryChart",
        type: "chart",
        title: "Inventory Forecast",
        chartConfig: { type: "line", xAxis: "month", yAxis: ["available", "construction", "sales"], showLegend: true },
      },
      {
        id: "inventoryTable",
        type: "table",
        title: "Inventory by Month",
        columns: [
          { id: "month", label: "Month", field: "month", format: "text" },
          { id: "startingInventory", label: "Starting", field: "startingInventory", format: "number" },
          { id: "completions", label: "+ Completions", field: "completions", format: "number" },
          { id: "sales", label: "- Sales", field: "sales", format: "number" },
          { id: "endingInventory", label: "Ending", field: "endingInventory", format: "number" },
          { id: "monthsSupply", label: "Months Supply", field: "monthsSupply", format: "number" },
        ],
      },
    ],
    tags: ["forecasting", "inventory", "availability"],
  },

  // ============================================
  // COMPARISON REPORTS (43-47)
  // ============================================
  {
    id: "compare-developments",
    name: "Development Comparison",
    description: "Side-by-side comparison of selected developments",
    category: "comparison",
    icon: "GitCompare",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "developmentComparison",
        type: "table",
        title: "Development Comparison",
        columns: [
          { id: "metric", label: "Metric", field: "metric", format: "text" },
          { id: "dev1", label: "Development 1", field: "development1", format: "text" },
          { id: "dev2", label: "Development 2", field: "development2", format: "text" },
          { id: "dev3", label: "Development 3", field: "development3", format: "text" },
          { id: "variance", label: "Variance", field: "variance", format: "percentage" },
        ],
      },
    ],
    tags: ["comparison", "development", "analysis"],
  },
  {
    id: "compare-periods",
    name: "Period Comparison",
    description: "Compare metrics across different time periods",
    category: "comparison",
    icon: "CalendarRange",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "periodChart",
        type: "chart",
        title: "Period Comparison",
        chartConfig: { type: "bar", xAxis: "metric", yAxis: ["period1", "period2"], showValues: true },
      },
      {
        id: "periodTable",
        type: "table",
        title: "Period Analysis",
        columns: [
          { id: "metric", label: "Metric", field: "metric", format: "text" },
          { id: "currentPeriod", label: "Current Period", field: "currentPeriod", format: "number" },
          { id: "previousPeriod", label: "Previous Period", field: "previousPeriod", format: "number" },
          { id: "change", label: "Change", field: "change", format: "number" },
          { id: "changePercent", label: "Change %", field: "changePercent", format: "percentage" },
        ],
      },
    ],
    tags: ["comparison", "period", "trend"],
  },
  {
    id: "compare-targets",
    name: "Actual vs Target",
    description: "Compare actual performance against targets",
    category: "comparison",
    icon: "Target",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "targetChart",
        type: "chart",
        title: "Actual vs Target",
        chartConfig: { type: "bar", xAxis: "category", yAxis: ["actual", "target"], showValues: true },
      },
      {
        id: "targetTable",
        type: "table",
        title: "Target Analysis",
        columns: [
          { id: "category", label: "Category", field: "category", format: "text" },
          { id: "actual", label: "Actual", field: "actual", format: "number" },
          { id: "target", label: "Target", field: "target", format: "number" },
          { id: "variance", label: "Variance", field: "variance", format: "number" },
          {
            id: "status",
            label: "Status",
            field: "status",
            format: "status",
            trafficLight: { type: "value", greenCondition: ">=100", amberCondition: ">=80", redCondition: "<80" },
          },
        ],
      },
    ],
    tags: ["comparison", "target", "performance"],
  },
  {
    id: "compare-year-over-year",
    name: "Year Over Year Comparison",
    description: "Compare current year metrics with previous year",
    category: "comparison",
    icon: "CalendarDays",
    defaultFormat: "excel",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "yoyChart",
        type: "chart",
        title: "Year Over Year",
        chartConfig: { type: "line", xAxis: "month", yAxis: ["thisYear", "lastYear"], showLegend: true },
      },
      {
        id: "yoyTable",
        type: "table",
        title: "Year Over Year Analysis",
        columns: [
          { id: "month", label: "Month", field: "month", format: "text" },
          { id: "thisYear", label: "This Year", field: "thisYear", format: "number" },
          { id: "lastYear", label: "Last Year", field: "lastYear", format: "number" },
          { id: "change", label: "Change", field: "change", format: "number" },
          { id: "growth", label: "Growth %", field: "growthPercent", format: "percentage" },
        ],
      },
    ],
    tags: ["comparison", "year over year", "trend"],
  },
  {
    id: "compare-unit-types",
    name: "Unit Type Comparison",
    description: "Compare performance metrics across unit types",
    category: "comparison",
    icon: "Layers",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [
      {
        id: "unitTypeChart",
        type: "chart",
        title: "Unit Type Performance",
        chartConfig: { type: "bar", xAxis: "type", yAxis: ["salesRate", "avgPrice", "inventory"], showLegend: true },
      },
      {
        id: "unitTypeTable",
        type: "table",
        title: "Unit Type Analysis",
        columns: [
          { id: "type", label: "Unit Type", field: "type", format: "text" },
          { id: "total", label: "Total", field: "totalUnits", format: "number" },
          { id: "sold", label: "Sold", field: "soldUnits", format: "number" },
          { id: "salesRate", label: "Sales Rate", field: "salesRate", format: "percentage" },
          { id: "avgPrice", label: "Avg Price", field: "avgPrice", format: "currency" },
          { id: "daysOnMarket", label: "Avg Days on Market", field: "avgDaysOnMarket", format: "number" },
        ],
        groupBy: "type",
      },
    ],
    tags: ["comparison", "unit type", "performance"],
  },

  // ============================================
  // CUSTOM REPORT BUILDER (48)
  // ============================================
  {
    id: "custom-builder",
    name: "Custom Report Builder",
    description: "Build your own report by selecting columns, filters, and layout",
    category: "custom",
    icon: "Wrench",
    defaultFormat: "screen",
    availableFormats: ["pdf", "excel", "screen"],
    sections: [],
    tags: ["custom", "builder", "flexible"],
  },
];

export const REPORT_CATEGORIES = [
  { id: "executive", name: "Executive Summary", icon: "LayoutDashboard", color: "#6366f1" },
  { id: "sales", name: "Sales Reports", icon: "ShoppingCart", color: "#22c55e" },
  { id: "construction", name: "Construction Reports", icon: "HardHat", color: "#f59e0b" },
  { id: "financial", name: "Financial Reports", icon: "DollarSign", color: "#3b82f6" },
  { id: "documentation", name: "Documentation", icon: "FileCheck", color: "#8b5cf6" },
  { id: "forecasting", name: "Forecasting", icon: "TrendingUp", color: "#ec4899" },
  { id: "comparison", name: "Comparison Reports", icon: "GitCompare", color: "#14b8a6" },
  { id: "custom", name: "Custom Reports", icon: "Wrench", color: "#64748b" },
];
